import toee, utils_item, const_proto_weapon, startup_zmod, utils_pc

proto_table = {
	toee.feat_exotic_weapon_proficiency_bastard_sword: const_proto_weapon.PROTO_WEAPON_SWORD_BASTARD,
	toee.feat_exotic_weapon_proficiency_dwarven_waraxe: const_proto_weapon.PROTO_WEAPON_WARAXE_DWARVEN,
	toee.feat_exotic_weapon_proficiency_gnome_hooked_hammer: const_proto_weapon.PROTO_WEAPON_HAMMER_GNOME_HOOKED,
	toee.feat_exotic_weapon_proficiency_hand_crossbow: const_proto_weapon.PROTO_WEAPON_CROSSBOW_LIGHT, #4497,
	toee.feat_exotic_weapon_proficiency_kukri: const_proto_weapon.PROTO_WEAPON_KUKRI,
	toee.feat_exotic_weapon_proficiency_orc_double_axe: const_proto_weapon.PROTO_BATTLEAXE, #4062,
	toee.feat_exotic_weapon_proficiency_repeating_crossbow: const_proto_weapon.PROTO_WEAPON_CROSSBOW_REPEATING_LIGHT,
	toee.feat_exotic_weapon_proficiency_shuriken: const_proto_weapon.PROTO_WEAPON_SHURIKEN,
	toee.feat_exotic_weapon_proficiency_spike_chain: const_proto_weapon.PROTO_WEAPON_SPIKED_CHAIN,
	toee.feat_improved_critical_bastard_sword: const_proto_weapon.PROTO_WEAPON_SWORD_BASTARD,
	toee.feat_improved_critical_battleaxe: const_proto_weapon.PROTO_BATTLEAXE,
	toee.feat_improved_critical_club: const_proto_weapon.PROTO_WEAPON_CLUB,
	toee.feat_improved_critical_dagger: const_proto_weapon.PROTO_WEAPON_DAGGER,
	toee.feat_improved_critical_dart: const_proto_weapon.PROTO_WEAPON_DART,
	toee.feat_improved_critical_dwarven_waraxe: const_proto_weapon.PROTO_WEAPON_WARAXE_DWARVEN,
	toee.feat_improved_critical_falchion: const_proto_weapon.PROTO_WEAPON_FALCHION,
	toee.feat_improved_critical_glaive: const_proto_weapon.PROTO_WEAPON_GLAIVE,
	toee.feat_improved_critical_gnome_hooked_hammer: const_proto_weapon.PROTO_WEAPON_HAMMER_GNOME_HOOKED,
	toee.feat_improved_critical_greataxe: const_proto_weapon.PROTO_WEAPON_GREATAXE,
	toee.feat_improved_critical_greatclub: const_proto_weapon.PROTO_WEAPON_GREATCLUB,
	toee.feat_improved_critical_greatsword: const_proto_weapon.PROTO_WEAPON_GREATSWORD,
	toee.feat_improved_critical_guisarme: const_proto_weapon.PROTO_WEAPON_GUISARME,
	toee.feat_improved_critical_halberd: const_proto_weapon.PROTO_WEAPON_HALBERD,
	toee.feat_improved_critical_halfspear: const_proto_weapon.PROTO_WEAPON_SHORTSPEAR,
	toee.feat_improved_critical_handaxe: const_proto_weapon.PROTO_WEAPON_HANDAXE,
	toee.feat_improved_critical_heavy_crossbow: const_proto_weapon.PROTO_WEAPON_CROSSBOW_HEAVY,
	toee.feat_improved_critical_heavy_flail: const_proto_weapon.PROTO_WEAPON_FLAIL_HEAVY,
	toee.feat_improved_critical_heavy_mace: const_proto_weapon.PROTO_WEAPON_MACE_HEAVY,
	toee.feat_improved_critical_heavy_pick: const_proto_weapon.PROTO_WEAPON_PICK_HEAVY,
	toee.feat_improved_critical_javelin: const_proto_weapon.PROTO_WEAPON_JAVELIN,
	toee.feat_improved_critical_light_crossbow: const_proto_weapon.PROTO_WEAPON_CROSSBOW_LIGHT,
	toee.feat_improved_critical_light_flail: const_proto_weapon.PROTO_FLAIL,
	toee.feat_improved_critical_light_hammer: const_proto_weapon.PROTO_WEAPON_HAMMER_LIGHT,
	toee.feat_improved_critical_light_mace: const_proto_weapon.PROTO_WEAPON_MACE_LIGHT,
	toee.feat_improved_critical_longbow: const_proto_weapon.PROTO_WEAPON_LONGBOW,
	toee.feat_improved_critical_longspear: const_proto_weapon.PROTO_WEAPON_LONGSPEAR,
	toee.feat_improved_critical_longsword: const_proto_weapon.PROTO_LONGSWORD,
	toee.feat_improved_critical_morningstar: const_proto_weapon.PROTO_WEAPON_MORNINGSTAR,
	toee.feat_improved_critical_orc_double_axe: const_proto_weapon.PROTO_BATTLEAXE, #4062,
	toee.feat_improved_critical_quarterstaff: const_proto_weapon.PROTO_WEAPON_QUARTERSTAFF, #4110,
	toee.feat_improved_critical_ranseur: const_proto_weapon.PROTO_WEAPON_RANSEUR,
	toee.feat_improved_critical_rapier: const_proto_weapon.PROTO_RAPIER,
	toee.feat_improved_critical_scimitar: const_proto_weapon.PROTO_SCIMITAR,
	toee.feat_improved_critical_scythe: const_proto_weapon.PROTO_WEAPON_SCYTHE,
	toee.feat_improved_critical_short_sword: const_proto_weapon.PROTO_WEAPON_SHORTSWORD,
	toee.feat_improved_critical_shortbow: const_proto_weapon.PROTO_WEAPON_SHORTBOW,
	toee.feat_improved_critical_shortspear: const_proto_weapon.PROTO_WEAPON_SPEAR,
	toee.feat_improved_critical_shuriken: const_proto_weapon.PROTO_WEAPON_SHURIKEN,
	toee.feat_improved_critical_sling: const_proto_weapon.PROTO_WEAPON_SLING,
	toee.feat_improved_critical_spike_chain: const_proto_weapon.PROTO_WEAPON_SPIKED_CHAIN,
	toee.feat_improved_critical_spiked_gauntlet: const_proto_weapon.PROTO_WEAPON_GAUNTLET_SPIKED,
	toee.feat_improved_critical_trident: const_proto_weapon.PROTO_WEAPON_TRIDENT,
	toee.feat_improved_critical_warhammer: const_proto_weapon.PROTO_WEAPON_WARHAMMER,
	toee.feat_martial_weapon_proficiency_battleaxe: const_proto_weapon.PROTO_BATTLEAXE,
	toee.feat_martial_weapon_proficiency_falchion: const_proto_weapon.PROTO_WEAPON_FALCHION,
	toee.feat_martial_weapon_proficiency_glaive: const_proto_weapon.PROTO_WEAPON_GLAIVE,
	toee.feat_martial_weapon_proficiency_greataxe: const_proto_weapon.PROTO_WEAPON_GREATAXE,
	toee.feat_martial_weapon_proficiency_greatclub: const_proto_weapon.PROTO_WEAPON_GREATCLUB,
	toee.feat_martial_weapon_proficiency_greatsword: const_proto_weapon.PROTO_WEAPON_GREATSWORD,
	toee.feat_martial_weapon_proficiency_guisarme: const_proto_weapon.PROTO_WEAPON_GUISARME,
	toee.feat_martial_weapon_proficiency_halberd: const_proto_weapon.PROTO_WEAPON_HALBERD,
	toee.feat_martial_weapon_proficiency_handaxe: const_proto_weapon.PROTO_WEAPON_HANDAXE,
	toee.feat_martial_weapon_proficiency_heavy_flail: const_proto_weapon.PROTO_WEAPON_FLAIL_HEAVY,
	toee.feat_martial_weapon_proficiency_heavy_pick: const_proto_weapon.PROTO_WEAPON_PICK_HEAVY,
	toee.feat_martial_weapon_proficiency_light_flail: const_proto_weapon.PROTO_FLAIL,
	toee.feat_martial_weapon_proficiency_light_hammer: const_proto_weapon.PROTO_WEAPON_HAMMER_LIGHT,
	toee.feat_martial_weapon_proficiency_longbow: const_proto_weapon.PROTO_WEAPON_LONGBOW,
	toee.feat_martial_weapon_proficiency_longspear: const_proto_weapon.PROTO_WEAPON_LONGSPEAR,
	toee.feat_martial_weapon_proficiency_longsword: const_proto_weapon.PROTO_LONGSWORD,
	toee.feat_martial_weapon_proficiency_ranseur: const_proto_weapon.PROTO_WEAPON_RANSEUR,
	toee.feat_martial_weapon_proficiency_rapier: const_proto_weapon.PROTO_RAPIER,
	toee.feat_martial_weapon_proficiency_scimitar: const_proto_weapon.PROTO_SCIMITAR,
	toee.feat_martial_weapon_proficiency_scythe: const_proto_weapon.PROTO_WEAPON_SCYTHE,
	toee.feat_martial_weapon_proficiency_short_sword: const_proto_weapon.PROTO_WEAPON_SHORTSWORD,
	toee.feat_martial_weapon_proficiency_shortbow: const_proto_weapon.PROTO_WEAPON_SHORTBOW,
	toee.feat_martial_weapon_proficiency_trident: const_proto_weapon.PROTO_WEAPON_TRIDENT,
	toee.feat_martial_weapon_proficiency_warhammer: const_proto_weapon.PROTO_WEAPON_WARHAMMER,
	toee.feat_weapon_finesse_bastard_sword: const_proto_weapon.PROTO_WEAPON_SWORD_BASTARD,
	toee.feat_weapon_finesse_battleaxe: const_proto_weapon.PROTO_BATTLEAXE,
	toee.feat_weapon_finesse_club: const_proto_weapon.PROTO_WEAPON_CLUB,
	toee.feat_weapon_finesse_dagger: const_proto_weapon.PROTO_WEAPON_DAGGER,
	toee.feat_weapon_finesse_dart: const_proto_weapon.PROTO_WEAPON_DART,
	toee.feat_weapon_finesse_dwarven_waraxe: const_proto_weapon.PROTO_WEAPON_WARAXE_DWARVEN,
	toee.feat_weapon_finesse_falchion: const_proto_weapon.PROTO_WEAPON_FALCHION,
	toee.feat_weapon_finesse_glaive: const_proto_weapon.PROTO_WEAPON_GLAIVE,
	toee.feat_weapon_finesse_gnome_hooked_hammer: const_proto_weapon.PROTO_WEAPON_HAMMER_GNOME_HOOKED,
	toee.feat_weapon_finesse_greataxe: const_proto_weapon.PROTO_WEAPON_GREATAXE,
	toee.feat_weapon_finesse_greatclub: const_proto_weapon.PROTO_WEAPON_GREATCLUB,
	toee.feat_weapon_finesse_greatsword: const_proto_weapon.PROTO_WEAPON_GREATSWORD,
	toee.feat_weapon_finesse_guisarme: const_proto_weapon.PROTO_WEAPON_GUISARME,
	toee.feat_weapon_finesse_halfspear: const_proto_weapon.PROTO_WEAPON_SHORTSPEAR,
	toee.feat_weapon_finesse_handaxe: const_proto_weapon.PROTO_WEAPON_HANDAXE,
	toee.feat_weapon_finesse_heavy_crossbow: const_proto_weapon.PROTO_WEAPON_CROSSBOW_HEAVY,
	toee.feat_weapon_finesse_heavy_flail: const_proto_weapon.PROTO_WEAPON_FLAIL_HEAVY,
	toee.feat_weapon_finesse_heavy_mace: const_proto_weapon.PROTO_WEAPON_MACE_HEAVY,
	toee.feat_weapon_finesse_heavy_pick: const_proto_weapon.PROTO_WEAPON_PICK_HEAVY,
	toee.feat_weapon_finesse_javelin: const_proto_weapon.PROTO_WEAPON_JAVELIN,
	toee.feat_weapon_finesse_light_crossbow: const_proto_weapon.PROTO_WEAPON_CROSSBOW_LIGHT,
	toee.feat_weapon_finesse_light_hammer: const_proto_weapon.PROTO_WEAPON_HAMMER_LIGHT,
	toee.feat_weapon_finesse_light_mace: const_proto_weapon.PROTO_WEAPON_MACE_LIGHT,
	toee.feat_weapon_finesse_longbow: const_proto_weapon.PROTO_WEAPON_LONGBOW,
	toee.feat_weapon_finesse_longspear: const_proto_weapon.PROTO_WEAPON_LONGSPEAR,
	toee.feat_weapon_finesse_longsword: const_proto_weapon.PROTO_LONGSWORD,
	toee.feat_weapon_finesse_morningstar: const_proto_weapon.PROTO_WEAPON_MORNINGSTAR,
	toee.feat_weapon_finesse_orc_double_axe: const_proto_weapon.PROTO_BATTLEAXE, #4062,
	toee.feat_weapon_finesse_quarterstaff: const_proto_weapon.PROTO_WEAPON_QUARTERSTAFF, #4110,
	toee.feat_weapon_finesse_ranseur: const_proto_weapon.PROTO_WEAPON_RANSEUR,
	toee.feat_weapon_finesse_rapier: const_proto_weapon.PROTO_RAPIER,
	toee.feat_weapon_finesse_scimitar: const_proto_weapon.PROTO_SCIMITAR,
	toee.feat_weapon_finesse_scythe: const_proto_weapon.PROTO_WEAPON_SCYTHE,
	toee.feat_weapon_finesse_short_sword: const_proto_weapon.PROTO_WEAPON_SHORTSWORD,
	toee.feat_weapon_finesse_shortbow: const_proto_weapon.PROTO_WEAPON_SHORTBOW,
	toee.feat_weapon_finesse_shortspear: const_proto_weapon.PROTO_WEAPON_SPEAR,
	toee.feat_weapon_finesse_shuriken: const_proto_weapon.PROTO_WEAPON_SHURIKEN,
	toee.feat_weapon_finesse_sling: const_proto_weapon.PROTO_WEAPON_SLING,
	toee.feat_weapon_finesse_spike_chain: const_proto_weapon.PROTO_WEAPON_SPIKED_CHAIN,
	toee.feat_weapon_finesse_warhammer: const_proto_weapon.PROTO_WEAPON_WARHAMMER,
	toee.feat_weapon_focus_bastard_sword: const_proto_weapon.PROTO_WEAPON_SWORD_BASTARD,
	toee.feat_weapon_focus_battleaxe: const_proto_weapon.PROTO_BATTLEAXE,
	toee.feat_weapon_focus_club: const_proto_weapon.PROTO_WEAPON_CLUB,
	toee.feat_weapon_focus_dagger: const_proto_weapon.PROTO_WEAPON_DAGGER,
	toee.feat_weapon_focus_dart: const_proto_weapon.PROTO_WEAPON_DART,
	toee.feat_weapon_focus_dwarven_waraxe: const_proto_weapon.PROTO_WEAPON_WARAXE_DWARVEN,
	toee.feat_weapon_focus_falchion: const_proto_weapon.PROTO_WEAPON_FALCHION,
	toee.feat_weapon_focus_glaive: const_proto_weapon.PROTO_WEAPON_GLAIVE,
	toee.feat_weapon_focus_gnome_hooked_hammer: const_proto_weapon.PROTO_WEAPON_HAMMER_GNOME_HOOKED,
	toee.feat_weapon_focus_greataxe: const_proto_weapon.PROTO_WEAPON_GREATAXE,
	toee.feat_weapon_focus_greatclub: const_proto_weapon.PROTO_WEAPON_GREATCLUB,
	toee.feat_weapon_focus_greatsword: const_proto_weapon.PROTO_WEAPON_GREATSWORD,
	toee.feat_weapon_focus_guisarme: const_proto_weapon.PROTO_WEAPON_GUISARME,
	toee.feat_weapon_focus_halberd: const_proto_weapon.PROTO_WEAPON_HALBERD,
	toee.feat_weapon_focus_halfspear: const_proto_weapon.PROTO_WEAPON_SHORTSPEAR,
	toee.feat_weapon_focus_handaxe: const_proto_weapon.PROTO_WEAPON_HANDAXE,
	toee.feat_weapon_focus_heavy_crossbow: const_proto_weapon.PROTO_WEAPON_CROSSBOW_HEAVY,
	toee.feat_weapon_focus_heavy_flail: const_proto_weapon.PROTO_WEAPON_FLAIL_HEAVY,
	toee.feat_weapon_focus_heavy_mace: const_proto_weapon.PROTO_WEAPON_MACE_HEAVY,
	toee.feat_weapon_focus_heavy_pick: const_proto_weapon.PROTO_WEAPON_PICK_HEAVY,
	toee.feat_weapon_focus_javelin: const_proto_weapon.PROTO_WEAPON_JAVELIN,
	toee.feat_weapon_focus_kukri: const_proto_weapon.PROTO_WEAPON_KUKRI,
	toee.feat_weapon_focus_light_crossbow: const_proto_weapon.PROTO_WEAPON_CROSSBOW_LIGHT,
	toee.feat_weapon_focus_light_flail: const_proto_weapon.PROTO_FLAIL,
	toee.feat_weapon_focus_light_hammer: const_proto_weapon.PROTO_WEAPON_HAMMER_LIGHT,
	toee.feat_weapon_focus_light_mace: const_proto_weapon.PROTO_WEAPON_MACE_LIGHT,
	toee.feat_weapon_focus_longbow: const_proto_weapon.PROTO_WEAPON_LONGBOW,
	toee.feat_weapon_focus_longspear: const_proto_weapon.PROTO_WEAPON_LONGSPEAR,
	toee.feat_weapon_focus_longsword: const_proto_weapon.PROTO_LONGSWORD,
	toee.feat_weapon_focus_morningstar: const_proto_weapon.PROTO_WEAPON_MORNINGSTAR,
	toee.feat_weapon_focus_orc_double_axe: const_proto_weapon.PROTO_BATTLEAXE, #4062,
	toee.feat_weapon_focus_quarterstaff: const_proto_weapon.PROTO_WEAPON_QUARTERSTAFF, #4110,
	toee.feat_weapon_focus_ranseur: const_proto_weapon.PROTO_WEAPON_RANSEUR,
	toee.feat_weapon_focus_rapier: const_proto_weapon.PROTO_RAPIER,
	toee.feat_weapon_focus_scimitar: const_proto_weapon.PROTO_SCIMITAR,
	toee.feat_weapon_focus_scythe: const_proto_weapon.PROTO_WEAPON_SCYTHE,
	toee.feat_weapon_focus_short_sword: const_proto_weapon.PROTO_WEAPON_SHORTSWORD,
	toee.feat_weapon_focus_shortbow: const_proto_weapon.PROTO_WEAPON_SHORTBOW,
	toee.feat_weapon_focus_shortspear: const_proto_weapon.PROTO_WEAPON_SPEAR,
	toee.feat_weapon_focus_shuriken: const_proto_weapon.PROTO_WEAPON_SHURIKEN,
	toee.feat_weapon_focus_sling: const_proto_weapon.PROTO_WEAPON_SLING,
	toee.feat_weapon_focus_spike_chain: const_proto_weapon.PROTO_WEAPON_SPIKED_CHAIN,
	toee.feat_weapon_focus_spiked_gauntlet: const_proto_weapon.PROTO_WEAPON_GAUNTLET_SPIKED,
	toee.feat_weapon_focus_trident: const_proto_weapon.PROTO_WEAPON_TRIDENT,
	toee.feat_weapon_focus_warhammer: const_proto_weapon.PROTO_WEAPON_WARHAMMER,
}

def pc_start(pc):
	assert isinstance(pc, toee.PyObjHandle)
	startup_zmod.zmod_templeplus_config_apply()
	startup_zmod.zmod_conditions_apply_pc()

	for feat, proto in proto_table.items():
		if (not proto): continue
		if not pc.has_feat(feat) or pc.item_find_by_proto(proto): continue
		utils_item.item_create_in_inventory(proto, pc)
		additional_proto = None
		if ((proto == const_proto_weapon.PROTO_WEAPON_SHORTBOW) or (proto == const_proto_weapon.PROTO_WEAPON_LONGBOW)):
			additional_proto = const_proto_weapon.PROTO_AMMO_ARROW_QUIVER
		elif ((proto == const_proto_weapon.PROTO_WEAPON_CROSSBOW_LIGHT) or (proto == const_proto_weapon.PROTO_WEAPON_CROSSBOW_HEAVY) or (proto == const_proto_weapon.PROTO_WEAPON_CROSSBOW_REPEATING_LIGHT)):
			additional_proto = const_proto_weapon.PROTO_AMMO_BOLT_QUIVER
		elif (proto == const_proto_weapon.PROTO_WEAPON_SLING):
			additional_proto = const_proto_weapon.PROTO_AMMO_BULLET_POUCH
		if (additional_proto):
			utils_item.item_create_in_inventory(proto, pc)

	return
